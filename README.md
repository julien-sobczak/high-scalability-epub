# High Scalability Paper epub

Scrap the High Scalability blog to generate an ebook in epub format.


## How it works?

The program iterates over the URLs http://highscalability.com/blog/category/examples?currentPage=1
and search elements having the CSS class "journal-entry" such as the following one:

```html
<div id="item14449316" class="journal-entry">
  <div class="journal-entry-float-day">
    <span class="name">Monday</span>
  </div>
  <div class="journal-entry-float-date">
    <span class="month">Jan</span>
    <span class="date">09</span>
    <span class="year">2012</span>
  </div>
  <div class="journal-entry-text">
    <h2 class="title">
      <a class="journal-entry-navigation-current" 
         href="/blog/2012/1/9/the-etsy-saga.html">
        The Etsy Saga
      </a>  
    </h2>
      
    <div class="journal-entry-tag journal-entry-tag-post-title">
      <span class="posted-on">   
        <img title="Date" alt="Date" class="inline-icon date-icon" rel="smalllight" 
             src="/universal/images/transparent.png">
        Monday, January 9, 2012 at 9:10AM
      </span> 
    </div> 

    <div class="body">
      <p>...</p>
      ...
    </div>
  </div>
</div>
```

The program generates a new chapter for each post. Internally, the program delegates to the [PyPub library](https://github.com/wcember/pypub)


## Installing

This project requires Python 2.7.

```
$ git clone https://github.com/julien-sobczak/high-scalability-epub.git
$ cd high-scalability-epub
$ virtualenv env
$ source env/bin/activate
$ pip install -r requirements.txt
$ ./fix_pypub.sh
```


## RunningÂ 

To generate an epub containing the full blog content:

```
$ python main.py
# Output to "HighScalability.epub"
```

You can use a date range to filter the posts to export:

```
$ python main.py --start 2017-01-01 --end 2017-04-01 --filename HighScalability2017
# Output to "HighScalability2017.epub"
```


## Archives

Epubs generated by this program are present under the `epubs` directory.
The epub sizes are small enough to be read like a short book (~ 200 pages).


## Known issue

The generated Epubs display property in *Calibre* viewer but only the first sentence of each chapter is displayed in *Adobe Digital Editions* and on my Kobo eReader.

To fix this problem, a possible workaround is to force the regeneration of to Epub using Calibre. Calibre provides command-line utilities for various tasks including ebook conversion:

```
$ ebook-convert input.epub output.epub
```

